from selenium import webdriver
from selenium.webdriver.common.keys import Keys


browser = webdriver.Chrome()
browser.implicitly_wait(5)

try:
    #1. Открыть страницу http://google.com/ncr
    browser.get("http://google.com/ncr")

    #2. Выполнить поиск слова “selenide”
    browser.find_element_by_css_selector('input.gLFyf').clear()
    browser.find_element_by_css_selector('input.gLFyf').send_keys('selenide')
    browser.find_element_by_css_selector('input.gLFyf').send_keys(Keys.ENTER)

    #3. Проверить, что первый результат – ссылка на сайт selenide.org.
    assert "selenide.org" in browser.find_element_by_tag_name("cite").text

    #4. Перейти в раздел поиска изображений
    browser.find_element_by_link_text('Images').click()

    #5. Проверить, что первое изображение неким образом связано с сайтом selenide.org.
    print(browser.find_element_by_css_selector("div.FnqxG").text)
    assert "selenide.org" in browser.find_element_by_css_selector("div.FnqxG").text

    #6. Вернуться в раздел поиска Все
    browser.find_element_by_class_name("qs").click()

    #7. Проверить, что первый результат такой же, как и на шаге 3.
    assert "selenide.org" in browser.find_element_by_tag_name("cite").text

finally:
    browser.quit()
